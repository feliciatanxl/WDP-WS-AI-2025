<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Thank You For Submitting The Form!</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        .text-green-success {
            color: #2d6a4f !important;
        }

        .submission-box {
            white-space: pre-wrap; /* Preserves newlines in the message text area */
            background-color: #f1f8f3;
            border: 1px solid #d8f3dc;
        }
    </style>
</head>
<body>
    <div class="container py-5 text-center">
        <i class="bi bi-check-circle-fill text-green-success mb-3" style="font-size: 3rem;"></i>
        <h2 class="text-success">Thank You for Contacting Us!</h2>
        <p class="lead">Here are the details you submitted:</p>

        <div id="responseData" class="mt-4 p-4 submission-box rounded text-start mx-auto" style="max-width: 600px;">
        </div>

        <a href="../contact/contact.html" class="btn btn-primary mt-3">Back to Contact Page</a>
    </div>

    <script>
        const responseDiv = document.getElementById("responseData");

        // --- MODIFIED: Read individual keys set by contact.html ---
        const name = sessionStorage.getItem("contactName");
        const email = sessionStorage.getItem("contactEmail");
        const message = sessionStorage.getItem("contactMessage");
        const isSubmitted = sessionStorage.getItem("isFormSubmitted");
        // -----------------------------------------------------------

        if (isSubmitted === 'true') {
            responseDiv.innerHTML = `
                <p><strong>Name:</strong> ${name || 'N/A'}</p>
                <p><strong>Email:</strong> ${email || 'N/A'}</p>
                <p><strong>Message:</strong></p>
                <div style="background-color: white; padding: 10px; border-radius: 6px; border: 1px solid #e0e0e0;">${message || 'N/A'}</div>
            `;

            // Clear data so it doesn't persist on refresh or next page load
            sessionStorage.removeItem("contactName");
            sessionStorage.removeItem("contactEmail");
            sessionStorage.removeItem("contactMessage");
            sessionStorage.removeItem("isFormSubmitted");
        } else {
            responseDiv.innerHTML = "<p class='text-danger'>No form data found. Please submit the form first.</p>";
        }
    </script>
</body>
</html>